var Tuenti = require('tuenti'),
	tuentiRequest,
	tuentiSession;

Tuenti.login('email', 'password', function(request, response, session) {

	// check login
	
	if (response.error) {
	
		console.log('Login incorrect');
		
		return false;
		
	}
	
	// (1) tuentiRequest: You can save request function into a global var (tuentiRequest) 
	// and you can use it out of this callback
	
	tuentiRequest = request;
	
	// (2) tuentiSession: Or simply save session into a global var again (tuentiSession) 
	// and send it like argument in request function
	
	tuentiSession = session; // session or data.session_id 

	// ready 
	
	// (1) tuentiRequest
	
	tuentiRequest('getUsersData', { ids: [response.user_id] }, function(response) {

		console.log('My user data', response[0].users);

	});
	
	// (2) tuentiSession
	
	Tuenti.request('getUserAlbums', { session_id: tuentiSession }, function(response) {

		console.log('My albums', response);
		
	});
	
});